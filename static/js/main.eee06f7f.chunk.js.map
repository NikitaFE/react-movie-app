{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","utils/api.js","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","backdrop_path","poster_path","concat","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","sort_by","updateSortBy","handleClick","value","event","getClassByValue","classNames","active","Pagination","page","total_pages","goToPrevPage","goToNextPage","disabled","API_URL","API_KEY_3","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMovies","fetch","then","response","json","console","log","result","movies","results","movie","id","updateMovies","filter","item","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","prevProps","prevState","components_MovieTabs","map","key","components_MovieItem","length","components_Pagination","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.eee06f7f.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={data.backdrop_path ||\n            data.poster_path ? (`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`) : 'https://jessicariches.files.wordpress.com/2012/09/img_3908.jpg'}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n    const handleClick = value => {\r\n      return event => {\r\n        updateSortBy(value);\r\n      }\r\n    };\r\n  \r\n    const getClassByValue = (value) => {\r\n      return classNames('nav-link', {'active': (sort_by === value)});;\r\n    };\r\n  \r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div className={getClassByValue(\"popularity.desc\")} onClick={handleClick(\"popularity.desc\")}>\r\n            Popularity desc\r\n          </div> \r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div className={getClassByValue(\"revenue.desc\")} onClick={handleClick(\"revenue.desc\")}>\r\n            Revenue desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div className={getClassByValue(\"vote_average.desc\")} onClick={handleClick(\"vote_average.desc\")}>\r\n            Vote average desc\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MovieTabs;","import React from \"react\";\r\n\r\nclass Pagination extends React.Component {\r\n  // componentWillUnmount() {\r\n  //   this.props.page = 1;\r\n  // }\r\n\r\n  render() {\r\n    const { page, total_pages, goToPrevPage, goToNextPage } = this.props;\r\n    return (\r\n      <div className=\"pagination\">\r\n        <button disabled={page === 1} onClick={() => goToPrevPage(page)}>Prev</button>\r\n        <span>{page}</span>\r\n        <button disabled={page === total_pages} onClick={() => goToNextPage(page)}>Next</button>\r\n        <span>Total: {total_pages}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Pagination;","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport Pagination from \"./Pagination\";\nimport {API_URL, API_KEY_3} from \"../utils/api\";\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      page: 1,\n      total_pages: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page) {\n      this.getMovies();\n    }\n  }\n\n  getMovies = () => {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data.result);\n        this.setState({\n          total_pages: data.total_pages,\n          movies: data.results\n        });\n      });\n  }\n\n  deleteMovie = movie => {\n    console.log(movie.id);\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    console.log(updateMovies);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value,\n      page: 1\n    });\n  };\n\n  goToPrevPage = page => {\n    if (page > 1) {\n      this.setState({\n        page: page -1\n      });\n    }\n  };\n\n  goToNextPage = page => {\n    if(page < this.state.total_pages) {\n      this.setState({\n        page: page + 1\n      });\n    }\n  };\n\n  render() {\n    console.log(\"render\", this);\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                <MovieTabs sort_by={this.state.sort_by} updateSortBy={this.updateSortBy} />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <Pagination \n              page={this.state.page}\n              total_pages={this.state.total_pages}\n              goToPrevPage={this.goToPrevPage}\n              goToNextPage={this.goToNextPage} \n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}